(function(){
  'use strict';
  var KEY = 'badianiSearchCatalog.v2';
  var nowIso = new Date().toISOString();
  var SEED = { updatedAt: nowIso, pages: {"caffe.html":{href:"caffe.html",category:"Bar & Drinks",updatedAt:nowIso,cards:[{title:"Espresso Single",cardKey:"espresso-single",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Espresso Double",cardKey:"espresso-double",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Espresso Macchiato",cardKey:"espresso-macchiato",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Double Macchiato",cardKey:"double-macchiato",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Americano",cardKey:"americano",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Cappuccino",cardKey:"cappuccino",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Flat White",cardKey:"flat-white",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Mocha",cardKey:"mocha",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Hot Chocolate",cardKey:"hot-chocolate",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chai Latte",cardKey:"chai-latte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Tea Selection",cardKey:"tea-selection",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Afternoon Tea Set",cardKey:"afternoon-tea-set",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Affogato",cardKey:"affogato",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Whipped Coffee",cardKey:"whipped-coffee",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Matcha Latte",cardKey:"matcha-latte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Iced Matcha Latte",cardKey:"iced-matcha-latte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Matcha Affogato",cardKey:"matcha-affogato",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Dirty Matcha",cardKey:"dirty-matcha",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Iced Americano",cardKey:"iced-americano",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Iced Latte",cardKey:"iced-latte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Pistachio Iced Latte",cardKey:"pistachio-iced-latte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Smoothie Giallo Passion",cardKey:"smoothie-giallo-passion",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Smoothie Rosso Berry",cardKey:"smoothie-rosso-berry",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Smoothie Verde Boost",cardKey:"smoothie-verde-boost",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Prep Matcha premade (una volta al giorno)",cardKey:"prep-matcha-premade-una-volta-al-giorno",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Setting Iced Matcha Latte (standard)",cardKey:"setting-iced-matcha-latte-standard",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Smoothies: parametri di produzione",cardKey:"smoothies-parametri-di-produzione",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Storage Matcha premade (HACCP)",cardKey:"storage-matcha-premade-haccp",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chiusura stazione Matcha / Blender",cardKey:"chiusura-stazione-matcha-blender",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"gelato-lab.html":{href:"gelato-lab.html",category:"Gelato Lab",updatedAt:nowIso,cards:[{title:"Coppette",cardKey:"coppette",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Coni classici",cardKey:"coni-classici",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Gelato Boxes",cardKey:"gelato-boxes",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Coppa Gelato",cardKey:"coppa-gelato",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Preparazione vetrina (mattino)",cardKey:"preparazione-vetrina-mattino",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Temperatura & porte (standard)",cardKey:"temperatura-porte-standard",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Shelf life treats (dopo esposizione)",cardKey:"shelf-life-treats-dopo-esposizione",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Gestione treat freezer",cardKey:"gestione-treat-freezer",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Regola Scampolo (1/4 pan)",cardKey:"regola-scampolo-1-4-pan",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chiusura & deep clean vetrina",cardKey:"chiusura-deep-clean-vetrina",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"operations.html":{href:"operations.html",category:"Operations & Setup",updatedAt:nowIso,cards:[{title:"Routine apertura",cardKey:"routine-apertura",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Set-up giornaliero",cardKey:"set-up-giornaliero",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Servizio Caldo (Pandoro)",cardKey:"servizio-caldo-pandoro",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Packaging take away",cardKey:"packaging-take-away",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Allestimento macchina",cardKey:"allestimento-macchina",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Service & chiusura",cardKey:"service-chiusura",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Temperature chiave (quick map)",cardKey:"temperature-chiave-quick-map",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"FIFO & etichette (regola d'oro)",cardKey:"fifo-etichette-regola-d-oro",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Shelf life rapidi (mix & premade)",cardKey:"shelf-life-rapidi-mix-premade",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Take-away: autonomia termica",cardKey:"take-away-autonomia-termica",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Schedule pulizie (giorno / settimana)",cardKey:"schedule-pulizie-giorno-settimana",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"pastries.html":{href:"pastries.html",category:"Pastry Lab",updatedAt:nowIso,cards:[{title:"Cakes",cardKey:"cakes",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Brownie Tray",cardKey:"brownie-tray",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Banana / altri loaf",cardKey:"banana-altri-loaf",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Croissant farciti",cardKey:"croissant-farciti",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Scone con Buontalenti",cardKey:"scone-con-buontalenti",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Set-up vetrina (look & ordine)",cardKey:"set-up-vetrina-look-ordine",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Tagli standard (porzionatura)",cardKey:"tagli-standard-porzionatura",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Shelf life (quick list)",cardKey:"shelf-life-quick-list",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Come mantenerla “sempre piena”",cardKey:"come-mantenerla-sempre-piena",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chiusura vetrina (routine)",cardKey:"chiusura-vetrina-routine",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"sweet-treats.html":{href:"sweet-treats.html",category:"Sweet Treat Atelier",updatedAt:nowIso,cards:[{title:"Crepe con Salsa",cardKey:"crepe-con-salsa",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Signature Buontalenti Crepe",cardKey:"signature-buontalenti-crepe",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Waffles",cardKey:"waffles",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Pancake Stack",cardKey:"pancake-stack",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Crepe Italiana (Plain)",cardKey:"crepe-italiana-plain",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Crepe Italiana (Beetroot)",cardKey:"crepe-italiana-beetroot",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Crepe Prosciutto (Plain)",cardKey:"crepe-prosciutto-plain",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Crepe Prosciutto (Beetroot)",cardKey:"crepe-prosciutto-beetroot",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Gelato Burger",cardKey:"gelato-burger",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Checklist apertura stazioni",cardKey:"checklist-apertura-stazioni",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Settaggi macchine (standard)",cardKey:"settaggi-macchine-standard",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Shelf life & storage rapidi",cardKey:"shelf-life-storage-rapidi",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Porzionatura & dosi (quick ref)",cardKey:"porzionatura-dosi-quick-ref",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chiusura & pulizia rapida",cardKey:"chiusura-pulizia-rapida",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"festive.html":{href:"festive.html",category:"Churros, Panettoni & Vin Brule'",updatedAt:nowIso,cards:[{title:"Churros",cardKey:"churros",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Panettone Classico",cardKey:"panettone-classico",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Panettone Dark Chocolate",cardKey:"panettone-dark-chocolate",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Pandoro Classico",cardKey:"pandoro-classico",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Mulled Wine (Vin Brulé)",cardKey:"mulled-wine-vin-brul",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Servizio Caldo (Pandoro)",cardKey:"servizio-caldo-pandoro",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Setup macchina Vin Brulé",cardKey:"setup-macchina-vin-brul",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Warm-up & mantenimento (Vin Brulé)",cardKey:"warm-up-mantenimento-vin-brul",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Come conservarlo di notte",cardKey:"come-conservarlo-di-notte",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Shelf life Vin Brulé (quick)",cardKey:"shelf-life-vin-brul-quick",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Pulizia macchina (fine giornata)",cardKey:"pulizia-macchina-fine-giornata",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Packaging mini panettone (delivery)",cardKey:"packaging-mini-panettone-delivery",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"slitti-yoyo.html":{href:"slitti-yoyo.html",category:"Slitti & Yo-Yo",updatedAt:nowIso,cards:[{title:"Timeline essenziale",cardKey:"timeline-essenziale",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Tavolette LatteNero & Gran Cacao",cardKey:"tavolette-lattenero-gran-cacao",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Minicake",cardKey:"minicake",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Praline & Dragée",cardKey:"praline-drag-e",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Creme Slittosa / Riccosa / Gianera",cardKey:"creme-slittosa-riccosa-gianera",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Yo-Yo",cardKey:"yo-yo",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Allestimento Yo-Yo (banco)",cardKey:"allestimento-yo-yo-banco",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Stazione e strumenti (standard)",cardKey:"stazione-e-strumenti-standard",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Porzionatura gelato Yo-Yo",cardKey:"porzionatura-gelato-yo-yo",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Pan storage method (etichettatura)",cardKey:"pan-storage-method-etichettatura",signals:{sicurezza:false,chiusura:false,upselling:false}},{title:"Chiusura stazione Yo-Yo",cardKey:"chiusura-stazione-yo-yo",signals:{sicurezza:false,chiusura:false,upselling:false}}]},"story-orbit.html":{href:"story-orbit.html",category:"Story Orbit Badiani 1932",updatedAt:nowIso,cards:[]}} };

  try { window.__BADIANI_SEARCH_CATALOG_SEED__ = SEED; } catch (e) {}

  function safeParse(raw) {
    try { return JSON.parse(raw); } catch (e) { return null; }
  }

  try {
    var catalog = safeParse(localStorage.getItem(KEY));
    if (!catalog || typeof catalog !== 'object') catalog = {};
    if (!catalog.pages || typeof catalog.pages !== 'object') catalog.pages = {};

    var seedPages = SEED.pages || {};
    Object.keys(seedPages).forEach(function(pageKey) {
      var sp = seedPages[pageKey];
      var ep = catalog.pages[pageKey];
      if (!ep || typeof ep !== 'object') {
        catalog.pages[pageKey] = sp;
        return;
      }

      if (!ep.href) ep.href = sp.href;
      if (!ep.category) ep.category = sp.category;
      if (!ep.updatedAt) ep.updatedAt = sp.updatedAt;

      var ec = Array.isArray(ep.cards) ? ep.cards : [];
      var sc = Array.isArray(sp.cards) ? sp.cards : [];
      var byKey = {};
      ec.forEach(function(c) { if (c && c.cardKey) byKey[String(c.cardKey)] = true; });
      sc.forEach(function(c) {
        if (c && c.cardKey && !byKey[String(c.cardKey)]) {
          ec.push(c);
          byKey[String(c.cardKey)] = true;
        }
      });
      ep.cards = ec;
      catalog.pages[pageKey] = ep;
    });

    catalog.updatedAt = nowIso;
    localStorage.setItem(KEY, JSON.stringify(catalog));
  } catch (e) {
    /* ignore */
  }
})();
